<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Friend Finder</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./css">


</head>

<body>

    <div class="container-fluid">
        <div class="row">
            <div class="col-1">

            </div>
            <div class="col-10">

                <div class="container">
                    <div class="row box"><strong>

                            Survey Questions
                        </strong>
                    </div>
                    <div class="row box">
                        <h4><strong>About You</strong></h4>

                    </div>

                    <div class="row box">

                        <h4>
                            Name
                        </h4>

                        <input type="text" id="name" class="form-control" required="">
                        <h4>Picture </h4>
                        <input type="text" id="pic" class="form-control" required="">

                    </div>

                    <div class="row box"><h2> On a scale of 1-5, with 1 being strong agreement and 5 being strong disagreement</h2></div>

                    <div class="question">
                        <h3 class="row questionBox"><strong> You are almost never late for your appointments</strong></h3>
                        <div class="form-group">
                           
                            <select class="form-control answer" id="sel1">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>


                    </div>

                    <div class="question">
                        <h3 class="row questionBox"><strong>You like to be engaged in an active and fast-paced job</strong></h3>

                        <div class="form-group">
                           
                            <select class="form-control answer" id="sel1">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>

                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>


                    </div>


                    <div class="question">
                        <h3 class="row questionBox"><strong> You enjoy having a wide circle of acquaintances</strong></h3>

                        <div class="form-group">
                           
                            <select class="form-control answer" id="sel1">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>

                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>


                    </div>

                    <div class="question">
                        <h3 class="row questionBox"><strong> You feel involved when watching TV soaps</strong></h3>

                        <div class="form-group">
                           
                            <select class="form-control answer" id="sel1">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>

                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>


                    </div>

                    <div class="question">
                        <h3 class="row questionBox"><strong> You are usually the first to react to a sudden event: the telephone ringing or unexpected question</strong></h3>

                        <div class="form-group">
                           
                            <select class="form-control answer" id="sel1">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>

                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>


                    </div>

                    <div class="question">
                        <h3 class="row questionBox"><strong> You feel that the world is founded on compassion</strong></h3>

                        <div class="form-group">
                           
                            <select class="form-control answer" id="sel1">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>

                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>


                    </div>

                    <div class="question">
                        <h3 class="row questionBox"><strong> You think that everything in the world is relative</strong></h3>

                        <div class="form-group">
                           
                            <select class="form-control answer" id="sel1">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>

                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>


                    </div>

                    <div class="question">
                        <h3 class="row questionBox"><strong> Strict observance of the established rules is likely to prevent attaining a good outcome</strong></h3>

                        <div class="form-group">
                           
                            <select class="form-control answer" id="sel1">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>

                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>


                    </div>

                    <div class="question">
                        <h3 class="row questionBox"><strong> It is difficult to get you excited</strong></h3>

                        <div class="form-group">
                           
                            <select class="form-control answer" id="sel1">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>

                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>


                    </div>

                    <div class="question">
                        <h3 class="row questionBox"><strong> When making a decision, you rely more on your feelings than on analysis of the situation</strong></h3>

                        <div class="form-group">
                           
                            <select class="form-control answer" id="sel1">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>

                                <option>4</option>
                                <option>5</option>
                            </select>
                        </div>


                    </div>

                    <button id="submitButton" class="box" type="button">
                        Submit
                    </button>
                </div>

            </div>
            <div class="col-1">

            </div>
        </div>



    </div>

    <div id="matchDisplay">

        <!-- Modal content -->
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class = "text-center">
                    <span> Congrats </span>
                    <span id="yourName"></span>
                    <span>!</span>
                    <span>

                    </span>
                    <span>Your best match is</span>
                    <span id="matchName"></span>
            </div>
            

            </p>
            <div>
                <image id="person1" class = "align-left imageBox"  src="">

                </image>

                <image id="person2" class = "align-right float-right imageBox" src="">

                </image>
            </div>
        </div>

    </div>


</body>

</html>

<script type="text/javascript">

    $(".close").click(function(){
        console.log("er00");
        $("#matchDisplay").css("display", "none");
    });

    $("#submitButton").click(function () {
        var dropdowns = $(".answer");
        var name = $("#name").val();
        var pic = $("#pic").val();
        var answers = [];
        console.log(dropdowns);
        for (var i = 0; i < dropdowns.length; i++) {
            answers.push(dropdowns[i].value);
        }

        var responses = {
            name: name,
            pic: pic,
            answers: answers
        };
        $.post("/api/friends", responses, function (data) {

        }).done(function (data) {
            console.log(data);
            if (data.response) {
                $("#matchDisplay").css("display", "block");
                $("#person1").attr("src", data.person1.pic);
                $("#person2").attr("src", data.person2.pic);
                $("#matchName").text(data.person2.name);
                $("#yourName").text(data.person1.name);
            }

        });

    });



</script>